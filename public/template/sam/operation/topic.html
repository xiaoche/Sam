<div class="ui grid sam-topic">

  <div class="three wide column">
    <div class="ui vertical menu">
      <div class="item">
        <a><b>归属</b></a>
        <div class="menu">
          <a class="item" ng-repeat="pipe in pipes"
            ng-click="filterTopicsByAtom(pipe._id, 'pipe', pipe.name)">
            <i ng-class="isChecked(pipe._id, 'pipe')"></i>
            {{pipe.name}}
          </a>
        </div>
      </div>
      <!--
      <div class="item">
        <a><b>年份</b></a>
        <div class="menu">
          <a class="item">2012</a>
          <a class="item">2013</a>
          <a class="item">2014</a>
        </div>
      </div>
      <div class="item">
        <a><b>月份</b></a>
        <div class="menu">
          <a class="item">1月</a>
          <a class="item">2月</a>
          <a class="item">3月</a>
          <a class="item">4月</a>
          <a class="item">5月</a>
          <a class="item">6月</a>
          <a class="item">7月</a>
          <a class="item">8月</a>
          <a class="item">9月</a>
          <a class="item">10月</a>
          <a class="item">11月</a>
          <a class="item">12月</a>
        </div>
      </div>
      -->
      <div class="item">
        <a><b>视觉设计师</b></a>
        <div class="menu">
          <a class="item" ng-click="filterTopicsByAtom(personnel._id, 'ga', personnel.name)"
            ng-repeat="personnel in personnels | orderBy: 'domain_account' | filter: {position: '视觉设计师'}">
            <i ng-class="isChecked(personnel._id, 'ga')"></i>
            {{personnel.name}}
          </a>
        </div>
      </div>
      <div class="item">
        <a><b>前端设计师</b></a>
        <div class="menu">
          <a class="item" ng-click="filterTopicsByAtom(personnel._id, 'fe', personnel.name)"
            ng-repeat="personnel in personnels | orderBy: 'domain_account' | filter: {position: '前端设计师'}">
            <i ng-class="isChecked(personnel._id, 'fe')"></i>
            {{personnel.name}}
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="thirteen wide column">
    <!-- filter criteria area -->
    <div class="criterias" ng-show="isCriteriaValid()">
      <a class="ui black small label clearall" ng-click="resetCriteria()">
        清空筛选条件
      </a>
      <i class="ellipsis vertical icon"></i>

      <a class="ui teal label"
        ng-repeat="criteria in selected_atom" ng-show="criteria.id">
        {{ criteria.name }}
        <i class="delete icon" ng-click="removeCriteria(criteria.id)"></i>
      </a>
    </div>

    <div class="ui items">
      <div class="item" ng-repeat="topic in filtered = (topics | orderBy:'-end_time' | SamOperationTopicFilter:selected_atom)">
        <div class="image">
          <img src="{{topic.topic_cover}}" />
        </div>
        <div class="content">
          <div class="name">{{topic.name}}</div>
          <div class="description">
            <a class="ui label black" ng-if="topic.topic_graphic_uri"
              href="{{topic.topic_graphic_uri}}" target="_blank">设计稿</a>
            <a class="ui label teal" ng-if="topic.topic_deploy_uri"
              href="{{topic.topic_deploy_uri}}" target="_blank">网页</a>
          </div>
        </div>
        <div class="ui bottom attached label">
          <span class="belong">{{topic.belong_to.name}}</span>
          {{topic.end_time}}
          <span class="per">{{topic.personnel_ga.name}}</span>
          <span class="per">{{topic.personnel_fe.name}}</span>
        </div>
      </div>
    </div>
  </div>
</div>


